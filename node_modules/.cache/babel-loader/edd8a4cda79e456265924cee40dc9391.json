{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{usersThunks}from\"./usersThunks\";var initialState={users:[],friends:[],totalCount:0,error:null,page:1,profilePreview:null};var usersReducer=createSlice({name:\"users\",initialState:initialState,reducers:{switchFollowUnfollow:function switchFollowUnfollow(state,action){}},extraReducers:function extraReducers(builder){builder.addCase(usersThunks.getUsersByPage.fulfilled,function(state,action){action.payload.items.forEach(function(item){state.users.push(item);});state.totalCount=action.payload.totalCount;state.error=action.payload.error;state.page=state.page+1;});builder.addCase(usersThunks.getTotalUsersCount.fulfilled,function(state,action){state.totalCount=action.payload.totalCount;});builder.addCase(usersThunks.getFriends.fulfilled,function(state,action){state.friends=action.payload.items;state.totalCount=action.payload.totalCount;});}});export default usersReducer.reducer;var switchFollowUnfollow=usersReducer.actions.switchFollowUnfollow;export{switchFollowUnfollow};","map":{"version":3,"names":["createSlice","usersThunks","initialState","users","friends","totalCount","error","page","profilePreview","usersReducer","name","reducers","switchFollowUnfollow","state","action","extraReducers","builder","addCase","getUsersByPage","fulfilled","payload","items","forEach","item","push","getTotalUsersCount","getFriends","reducer","actions"],"sources":["C:/Documents/social-network/src/redux/usersReducer/usersReducer.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { usersThunks } from \"./usersThunks\";\r\n\r\ninterface initialStateType {\r\n  users: {\r\n    followed: boolean;\r\n    id: number;\r\n    name: string;\r\n    photos: { small: null | string; large: string };\r\n    status: string;\r\n  }[];\r\n  friends: {\r\n    followed: boolean;\r\n    id: number;\r\n    name: string;\r\n    photos: { small: null | string; large: string };\r\n    status: string;\r\n  }[];\r\n  totalCount: number;\r\n  error: string | null;\r\n  page: number;\r\n  profilePreview: {\r\n    userId: string;\r\n    lookingForAJob: boolean;\r\n    lookingForAJobDescription: string;\r\n    fullName: string;\r\n    contacts: {\r\n      github: string;\r\n      vk: string;\r\n      facebook: string;\r\n      instagram: string;\r\n      twitter: string;\r\n      website: string;\r\n      youtube: string;\r\n      mainLink: string;\r\n    };\r\n  } | null;\r\n}\r\n\r\nconst initialState: initialStateType = {\r\n  users: [],\r\n  friends: [],\r\n  totalCount: 0,\r\n  error: null,\r\n  page: 1,\r\n  profilePreview: null,\r\n};\r\n\r\nconst usersReducer = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n\r\n  reducers: {\r\n    switchFollowUnfollow(state, action: PayloadAction<number>) {},\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(usersThunks.getUsersByPage.fulfilled, (state, action) => {\r\n      action.payload.items.forEach((item) => {\r\n        state.users.push(item);\r\n      });\r\n      state.totalCount = action.payload.totalCount;\r\n      state.error = action.payload.error;\r\n      state.page = state.page + 1;\r\n    });\r\n    builder.addCase(\r\n      usersThunks.getTotalUsersCount.fulfilled,\r\n      (state, action) => {\r\n        state.totalCount = action.payload.totalCount;\r\n      }\r\n    );\r\n    builder.addCase(usersThunks.getFriends.fulfilled, (state, action) => {\r\n      state.friends = action.payload.items;\r\n      state.totalCount = action.payload.totalCount;\r\n    });\r\n  },\r\n});\r\n\r\nexport default usersReducer.reducer;\r\nexport const { switchFollowUnfollow } = usersReducer.actions;\r\n"],"mappings":"AAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,WAAT,KAA4B,eAA5B,CAsCA,GAAMC,aAA8B,CAAG,CACrCC,KAAK,CAAE,EAD8B,CAErCC,OAAO,CAAE,EAF4B,CAGrCC,UAAU,CAAE,CAHyB,CAIrCC,KAAK,CAAE,IAJ8B,CAKrCC,IAAI,CAAE,CAL+B,CAMrCC,cAAc,CAAE,IANqB,CAAvC,CASA,GAAMC,aAAY,CAAGT,WAAW,CAAC,CAC/BU,IAAI,CAAE,OADyB,CAE/BR,YAAY,CAAZA,YAF+B,CAI/BS,QAAQ,CAAE,CACRC,oBADQ,+BACaC,KADb,CACoBC,MADpB,CACmD,CAAE,CADrD,CAJqB,CAO/BC,aAP+B,wBAOjBC,OAPiB,CAOR,CACrBA,OAAO,CAACC,OAAR,CAAgBhB,WAAW,CAACiB,cAAZ,CAA2BC,SAA3C,CAAsD,SAACN,KAAD,CAAQC,MAAR,CAAmB,CACvEA,MAAM,CAACM,OAAP,CAAeC,KAAf,CAAqBC,OAArB,CAA6B,SAACC,IAAD,CAAU,CACrCV,KAAK,CAACV,KAAN,CAAYqB,IAAZ,CAAiBD,IAAjB,EACD,CAFD,EAGAV,KAAK,CAACR,UAAN,CAAmBS,MAAM,CAACM,OAAP,CAAef,UAAlC,CACAQ,KAAK,CAACP,KAAN,CAAcQ,MAAM,CAACM,OAAP,CAAed,KAA7B,CACAO,KAAK,CAACN,IAAN,CAAaM,KAAK,CAACN,IAAN,CAAa,CAA1B,CACD,CAPD,EAQAS,OAAO,CAACC,OAAR,CACEhB,WAAW,CAACwB,kBAAZ,CAA+BN,SADjC,CAEE,SAACN,KAAD,CAAQC,MAAR,CAAmB,CACjBD,KAAK,CAACR,UAAN,CAAmBS,MAAM,CAACM,OAAP,CAAef,UAAlC,CACD,CAJH,EAMAW,OAAO,CAACC,OAAR,CAAgBhB,WAAW,CAACyB,UAAZ,CAAuBP,SAAvC,CAAkD,SAACN,KAAD,CAAQC,MAAR,CAAmB,CACnED,KAAK,CAACT,OAAN,CAAgBU,MAAM,CAACM,OAAP,CAAeC,KAA/B,CACAR,KAAK,CAACR,UAAN,CAAmBS,MAAM,CAACM,OAAP,CAAef,UAAlC,CACD,CAHD,EAID,CA1B8B,CAAD,CAAhC,CA6BA,cAAeI,aAAY,CAACkB,OAA5B,CACO,GAAQf,qBAAR,CAAiCH,YAAY,CAACmB,OAA9C,CAAQhB,oBAAR,C"},"metadata":{},"sourceType":"module"}