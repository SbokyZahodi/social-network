{"ast":null,"code":"import{useEffect}from\"react\";import InfiniteScroll from\"react-infinite-scroll-component\";import{useAppDispatch,useAppSelector}from\"../../redux/hooks\";import{usersThunks}from\"../../redux/usersReducer/usersThunks\";import Preloader from\"../FeedPage/Preloader\";import User from\"./User\";import{jsx as _jsx}from\"react/jsx-runtime\";var AllUsersContainer=function AllUsersContainer(){var dispatch=useAppDispatch();var page=useAppSelector(function(state){return state.users.page;});var users=useAppSelector(function(state){return state.users.users;});var totalCount=useAppSelector(function(state){return state.users.totalCount;});useEffect(function(){if(users.length===0){dispatch(usersThunks.getUsersByPage(page));}dispatch(usersThunks.getTotalUsersCount());},[]);var loadMoreUsers=function loadMoreUsers(){dispatch(usersThunks.getUsersByPage(page));};if(users.length===0){return/*#__PURE__*/_jsx(Preloader,{});}var usersArray=users.map(function(_ref){var id=_ref.id,followed=_ref.followed,name=_ref.name,photos=_ref.photos,status=_ref.status;return/*#__PURE__*/_jsx(User,{id:id,name:name,status:status,avatar:photos.small,followed:followed},id);});return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:users.length,next:loadMoreUsers,hasMore:users.length>=totalCount?false:true,loader:/*#__PURE__*/_jsx(Preloader,{}),className:\"flex flex-col items-center\",children:usersArray})});};export default AllUsersContainer;","map":{"version":3,"names":["useEffect","InfiniteScroll","useAppDispatch","useAppSelector","usersThunks","Preloader","User","AllUsersContainer","dispatch","page","state","users","totalCount","length","getUsersByPage","getTotalUsersCount","loadMoreUsers","usersArray","map","id","followed","name","photos","status","small"],"sources":["C:/Documents/social-network/src/components/UsersPage/AllUsersContainer.tsx"],"sourcesContent":["import { FC, useEffect } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport { usersThunks } from \"../../redux/usersReducer/usersThunks\";\r\nimport Preloader from \"../FeedPage/Preloader\";\r\nimport User from \"./User\";\r\n\r\nconst AllUsersContainer: FC = () => {\r\n  let dispatch = useAppDispatch();\r\n  let page = useAppSelector((state) => state.users.page);\r\n  let users = useAppSelector((state) => state.users.users);\r\n  let totalCount = useAppSelector((state) => state.users.totalCount);\r\n\r\n  useEffect(() => {\r\n    if (users.length === 0) {\r\n      dispatch(usersThunks.getUsersByPage(page));\r\n    }\r\n    dispatch(usersThunks.getTotalUsersCount())\r\n  }, []);\r\n\r\n  const loadMoreUsers = () => {\r\n    dispatch(usersThunks.getUsersByPage(page));\r\n  };\r\n\r\n  if (users.length === 0) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  let usersArray = users.map(({ id, followed, name, photos, status }) => {\r\n    return (\r\n      <User\r\n        id={id}\r\n        name={name}\r\n        status={status}\r\n        avatar={photos.small}\r\n        followed={followed}\r\n        key={id}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={``}>\r\n      <InfiniteScroll\r\n        dataLength={users.length}\r\n        next={loadMoreUsers}\r\n        hasMore={users.length >= totalCount ? false : true}\r\n        loader={<Preloader />}\r\n        className={`flex flex-col items-center`}\r\n      >\r\n        {usersArray}\r\n      </InfiniteScroll>\r\n    </div>\r\n  );\r\n};\r\nexport default AllUsersContainer;\r\n"],"mappings":"AAAA,OAAaA,SAAb,KAA8B,OAA9B,CACA,MAAOC,eAAP,KAA2B,iCAA3B,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,mBAA/C,CACA,OAASC,WAAT,KAA4B,sCAA5B,CACA,MAAOC,UAAP,KAAsB,uBAAtB,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,2CAEA,GAAMC,kBAAqB,CAAG,QAAxBA,kBAAwB,EAAM,CAClC,GAAIC,SAAQ,CAAGN,cAAc,EAA7B,CACA,GAAIO,KAAI,CAAGN,cAAc,CAAC,SAACO,KAAD,QAAWA,MAAK,CAACC,KAAN,CAAYF,IAAvB,EAAD,CAAzB,CACA,GAAIE,MAAK,CAAGR,cAAc,CAAC,SAACO,KAAD,QAAWA,MAAK,CAACC,KAAN,CAAYA,KAAvB,EAAD,CAA1B,CACA,GAAIC,WAAU,CAAGT,cAAc,CAAC,SAACO,KAAD,QAAWA,MAAK,CAACC,KAAN,CAAYC,UAAvB,EAAD,CAA/B,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAIW,KAAK,CAACE,MAAN,GAAiB,CAArB,CAAwB,CACtBL,QAAQ,CAACJ,WAAW,CAACU,cAAZ,CAA2BL,IAA3B,CAAD,CAAR,CACD,CACDD,QAAQ,CAACJ,WAAW,CAACW,kBAAZ,EAAD,CAAR,CACD,CALQ,CAKN,EALM,CAAT,CAOA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1BR,QAAQ,CAACJ,WAAW,CAACU,cAAZ,CAA2BL,IAA3B,CAAD,CAAR,CACD,CAFD,CAIA,GAAIE,KAAK,CAACE,MAAN,GAAiB,CAArB,CAAwB,CACtB,mBAAO,KAAC,SAAD,IAAP,CACD,CAED,GAAII,WAAU,CAAGN,KAAK,CAACO,GAAN,CAAU,cAA4C,IAAzCC,GAAyC,MAAzCA,EAAyC,CAArCC,QAAqC,MAArCA,QAAqC,CAA3BC,IAA2B,MAA3BA,IAA2B,CAArBC,MAAqB,MAArBA,MAAqB,CAAbC,MAAa,MAAbA,MAAa,CACrE,mBACE,KAAC,IAAD,EACE,EAAE,CAAEJ,EADN,CAEE,IAAI,CAAEE,IAFR,CAGE,MAAM,CAAEE,MAHV,CAIE,MAAM,CAAED,MAAM,CAACE,KAJjB,CAKE,QAAQ,CAAEJ,QALZ,EAMOD,EANP,CADF,CAUD,CAXgB,CAAjB,CAaA,mBACE,YAAK,SAAS,GAAd,uBACE,KAAC,cAAD,EACE,UAAU,CAAER,KAAK,CAACE,MADpB,CAEE,IAAI,CAAEG,aAFR,CAGE,OAAO,CAAEL,KAAK,CAACE,MAAN,EAAgBD,UAAhB,CAA6B,KAA7B,CAAqC,IAHhD,CAIE,MAAM,cAAE,KAAC,SAAD,IAJV,CAKE,SAAS,6BALX,UAOGK,UAPH,EADF,EADF,CAaD,CA/CD,CAgDA,cAAeV,kBAAf"},"metadata":{},"sourceType":"module"}