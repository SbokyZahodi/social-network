{"ast":null,"code":"import _objectDestructuringEmpty from\"C:/Documents/social-network/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import{createSlice}from\"@reduxjs/toolkit\";import{authThunks}from\"./authThunks\";var initialState={isAuth:null,pending:false,errors:[],myID:null};var authReducer=createSlice({name:\"auth\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(authThunks.login.fulfilled,function(state,action){state.pending=false;if(action.payload.resultCode===0){state.isAuth=true;state.errors=null;state.myID=action.payload.data.userId;}else{state.errors=[];state.errors=action.payload.messages;}});builder.addCase(authThunks.login.pending,function(state){state.pending=true;});builder.addCase(authThunks.authMe.fulfilled,function(state,action){if(action.payload.resultCode===0){state.isAuth=true;state.myID=action.payload.data.id;}else{state.isAuth=false;state.myID=null;}});builder.addCase(authThunks.logout.fulfilled,function(state,action){state.isAuth=false;state.myID=null;});}});export default authReducer.reducer;_objectDestructuringEmpty(authReducer.actions);export{};","map":{"version":3,"names":["createSlice","authThunks","initialState","isAuth","pending","errors","myID","authReducer","name","reducers","extraReducers","builder","addCase","login","fulfilled","state","action","payload","resultCode","data","userId","messages","authMe","id","logout","reducer","actions"],"sources":["C:/Documents/social-network/src/redux/authReducer/authReducer.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { authAPI } from \"../../API/authAPI/authAPI\";\r\nimport { authThunks } from \"./authThunks\";\r\n\r\ninterface initialStateType {\r\n  isAuth: boolean | null;\r\n  pending: boolean;\r\n  errors: string[] | null;\r\n  myID: number | null;\r\n}\r\n\r\nconst initialState: initialStateType = {\r\n  isAuth: null,\r\n  pending: false,\r\n  errors: [],\r\n  myID: null,\r\n};\r\n\r\nconst authReducer = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n\r\n  reducers: {},\r\n  extraReducers(builder) {\r\n    builder.addCase(authThunks.login.fulfilled, (state, action) => {\r\n      state.pending = false;\r\n      if (action.payload.resultCode === 0) {\r\n        state.isAuth = true;\r\n        state.errors = null;\r\n        state.myID = action.payload.data.userId;\r\n      } else {\r\n        state.errors = [];\r\n        state.errors = action.payload.messages;\r\n      }\r\n    });\r\n    builder.addCase(authThunks.login.pending, (state) => {\r\n      state.pending = true;\r\n    });\r\n    builder.addCase(authThunks.authMe.fulfilled, (state, action) => {\r\n      if (action.payload.resultCode === 0) {\r\n        state.isAuth = true;\r\n        state.myID = action.payload.data.id;\r\n      } else {\r\n        state.isAuth = false;\r\n        state.myID = null;\r\n      }\r\n    });\r\n    builder.addCase(authThunks.logout.fulfilled, (state, action) => {\r\n      state.isAuth = false;\r\n      state.myID = null;\r\n    });\r\n  },\r\n});\r\n\r\nexport default authReducer.reducer;\r\nexport const {} = authReducer.actions;\r\n"],"mappings":"uIAAA,OAASA,WAAT,KAA4B,kBAA5B,CAEA,OAASC,UAAT,KAA2B,cAA3B,CASA,GAAMC,aAA8B,CAAG,CACrCC,MAAM,CAAE,IAD6B,CAErCC,OAAO,CAAE,KAF4B,CAGrCC,MAAM,CAAE,EAH6B,CAIrCC,IAAI,CAAE,IAJ+B,CAAvC,CAOA,GAAMC,YAAW,CAAGP,WAAW,CAAC,CAC9BQ,IAAI,CAAE,MADwB,CAE9BN,YAAY,CAAZA,YAF8B,CAI9BO,QAAQ,CAAE,EAJoB,CAK9BC,aAL8B,wBAKhBC,OALgB,CAKP,CACrBA,OAAO,CAACC,OAAR,CAAgBX,UAAU,CAACY,KAAX,CAAiBC,SAAjC,CAA4C,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC7DD,KAAK,CAACX,OAAN,CAAgB,KAAhB,CACA,GAAIY,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA8B,CAAlC,CAAqC,CACnCH,KAAK,CAACZ,MAAN,CAAe,IAAf,CACAY,KAAK,CAACV,MAAN,CAAe,IAAf,CACAU,KAAK,CAACT,IAAN,CAAaU,MAAM,CAACC,OAAP,CAAeE,IAAf,CAAoBC,MAAjC,CACD,CAJD,IAIO,CACLL,KAAK,CAACV,MAAN,CAAe,EAAf,CACAU,KAAK,CAACV,MAAN,CAAeW,MAAM,CAACC,OAAP,CAAeI,QAA9B,CACD,CACF,CAVD,EAWAV,OAAO,CAACC,OAAR,CAAgBX,UAAU,CAACY,KAAX,CAAiBT,OAAjC,CAA0C,SAACW,KAAD,CAAW,CACnDA,KAAK,CAACX,OAAN,CAAgB,IAAhB,CACD,CAFD,EAGAO,OAAO,CAACC,OAAR,CAAgBX,UAAU,CAACqB,MAAX,CAAkBR,SAAlC,CAA6C,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC9D,GAAIA,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA8B,CAAlC,CAAqC,CACnCH,KAAK,CAACZ,MAAN,CAAe,IAAf,CACAY,KAAK,CAACT,IAAN,CAAaU,MAAM,CAACC,OAAP,CAAeE,IAAf,CAAoBI,EAAjC,CACD,CAHD,IAGO,CACLR,KAAK,CAACZ,MAAN,CAAe,KAAf,CACAY,KAAK,CAACT,IAAN,CAAa,IAAb,CACD,CACF,CARD,EASAK,OAAO,CAACC,OAAR,CAAgBX,UAAU,CAACuB,MAAX,CAAkBV,SAAlC,CAA6C,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC9DD,KAAK,CAACZ,MAAN,CAAe,KAAf,CACAY,KAAK,CAACT,IAAN,CAAa,IAAb,CACD,CAHD,EAID,CAjC6B,CAAD,CAA/B,CAoCA,cAAeC,YAAW,CAACkB,OAA3B,CACO,0BAAWlB,WAAW,CAACmB,OAAvB,E"},"metadata":{},"sourceType":"module"}